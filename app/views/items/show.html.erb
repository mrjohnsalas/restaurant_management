<p id="notice"><%= notice %></p>

<p>
  <strong>Name:</strong>
  <%= @item.name %>
</p>

<p>
  <strong>Unit cost:</strong>
  <%= @item.unit_cost %>
</p>

<p>
  <strong>Unit price:</strong>
  <%= @item.unit_price %>
</p>

<p>
  <strong>Restaurant:</strong>
  <%= @item.restaurant.name %>
</p>

<p>
  <strong>Item category:</strong>
  <%= @item.item_category.name %>
</p>

<p>
  <strong>Food category:</strong>
  <%= @item.food_category.name %>
</p>

<p>
  <strong>Object type:</strong>
  <%= @item.object_type.name %>
</p>
<p>
  <%= image_tag @item.photo.url(:medium) %>
</p>

<div class="star-rating" data-score=<%= @avg_review %>></div>
<em><%= "#{@user_reviews.length} reviews" %></em>
<br><br>
<%= link_to 'Edit', edit_restaurant_item_path(@restaurant, @item) %> |
<%= link_to 'Back', restaurant_items_path(@restaurant) %> |
<%= link_to 'New User review', new_restaurant_item_user_review_path(@restaurant, @item) %>
<p><%= @item.get_upvotes.size %> Likes</p>
<p><%= @item.get_downvotes.size %> DisLike</p>
<%= link_to 'Like', like_restaurant_item_path(@restaurant, @item), method: :put %> |
<%= link_to "DisLike", dislike_restaurant_item_path(@restaurant, @item), method: :put %>
<br><br>

      <div>
          <% if @user_reviews.blank? %>
            <h3>No reviews just yet, would you like to add the first!</h3>
          <% else %>
            <% @user_reviews.each do |review| %>
              <div class="reviews">
                <div class="star-rating" data-score=<%= review.rating %>></div>
                <p><%= review.comment %></p>
              </div>
            <% end %>
          <% end %>
      </div>
      
<script>
  $('.star-rating').raty({
    path: '/assets/',
    readOnly: true,
    score: function() {
      return $(this).attr('data-score')
    }
  });
</script>